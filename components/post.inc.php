<?php
include 'components/functions.php';
createPost($conn);
?>

<div class=" page-header gradient d-flex flex-column align-items-center" >
    <div class=" w-75 pt-5">
    <h1 class="text-center mt-5">Posts</h1>
      <button class="btn btn-primary btn-lg" data-bs-toggle="collapse" data-bs-target="#createPost"
      aria-expanded="false" aria-controls="createPost">Create Post</button>
        <div class="collapse" id="createPost">
          <form action="post.php" method="post">
            <div class="form-group my-3">
                <label for="title" class="form-label"><h4>Title:</h4></label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group mb-3">
                <label for="content" class="form-label"><h4>Content:</h4></label>
                <textarea class="form-control" id="content" name="content" required></textarea>
            </div>
            <button type="submit" class="btn btn-warning btn-lg mb-3" name="submitPost">
              Submit
            </button>
          </form>
        </div>

    </div>

    <div class="page-body w-75 min-vh-100 d-flex flex-column mt-2 ">
      <form class="w-50 my-3"action="post.php" method="get">
        <div class="form-group mb-3">
            <input type="text" class="form-control" name="search" placeholder="Search by title...">
        </div>
        <button type="submit" class="btn btn-primary btn-lg">Search</button>
      </form>
      <?php
      echo fetchPostsAndComments($conn);
      ?>

    </div>

  </div>



